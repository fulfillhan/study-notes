# 연관관계 매핑 기초

### 테이블과 객체의 차이
테이블은 외래 키로 조인하여 연관된 테이블을 찾는다.
객체는 참조를 사용해서 연관된 객체를 찾는다.

# 단방향 연관관계
관계의주인 :  다수인쪽에 외래키를 갖는데 외래키 있는 쪽이 관계의 주인이다.
```
@ManyToOne
@JoinColumn(name="Teamid")
private 	Team team;
```
@ManyToOne. / @JoingColumn(name=대상 ID)

# 양방향 연관관계
단방향에 + 컬렉션 리스트 추가한다.
```
@OneToMany(mapedBy = "team")
List<Members> members = new ArrayList<Member>();
```

- 일대다 관계에서 ‘다’ 인쪽에 외래키를 갖는것이 좋다.
- 관계의 주인은 외래키가 있는 쪽으로 ‘다’ 있는 쪽을 기준으로 하는 것이 좋다.
- 관계의 주인이 되는 쪽은 @JoinColumn을 추가한다. 반대인 곳은 mappedBy 주인쪽과 연결시킨다.

<정리>
## 객체의 양방향 관계
- 객체의 양방향 관계는 사실 양방향 관계가 아닌 서로 다른반향의 단방향 관계 2개이다.
- 관계의 주인은 외래키를 관리해야한다. `등록, 수정` 가능하다./ 주인이 아닌쪽은 `조회만` 가능하다.
### 📌주의점
- 순수 객체 상태를 고려해서 양쪽에 값을 설정해야 한다.
- 연관관계 편의 메서드를 생성하자.
- 양방향 매핑시에 무한 루프를 조심하자.
    - toString 사용 등
